<!--
1. IMS Apn : IMS
   > IWLAN & Cellular
=======================================================================================================================================================
     WIFI-Available      WIFI RSSI      LTE         LTE RSRP        3G             2G           Preferred Mode         Call_Type          RESULT
=======================================================================================================================================================
1           O                            X                          X              X                                       0              WIFI
2          Good          -84High       Good        -117High                                        2(Cellular preferred)   0              WIFI/Cellular
3          Good          -84High       Good        -117High                                        0(WiFi preferred)       0              WIFI/Cellular
4           O                                                                                      1(WiFi only)            0              WIFI
5          Good          -84High       Good        -117High                                                                O              WIFI/Cellular
6          Bad           -85Low        Good        -117High                                                                O              Cellular
7           X                          Good        -117High                                                                O              Cellular
8           X                           Bad        -118Low                                                                 O              Celluar
9          GOOD          -84High        Bad        -118Low                                                                 O              WIFI
10         Good          -84High                                    O                              O(WiFi preferred)       O              WIFI
11         Good          -84High                                    O                                                      O              WIFI
12         Bad           -85Low                                     O                                                      O
13         Good          -84High                                                   O               0(WiFi preferred)       O              WIFI
14         Good          -84High                                                   O                                       O              WIFI
15         Bad           -85Low                                                    O                                       O
16          X                            X                          X              X                                       O

1           O                            X                          X              X                                       1              WIFI
2          Good          -74High       Good        -118High                                        2(Cellular preferred)   1              WIFI/Cellular
3          Good          -74High       Good        -116High                                        0(WiFi preferred)       1              WIFI/Cellular
4           O                                                                                      1(WiFi only)            1              WIFI
5          Good          -74High       Good        -118High                                                                1              WIFI/Cellular
6          Bad           -75Low        Good        -118High                                                                1              Cellular
7           X                          Good        -118High                                                                1              Cellular
8           X                           Bad        -119Low                                                                 1              Celluar
9          Good          -74High        Bad        -119Low                                         2(Cellular prefered)    1              WIFI
10         Good          -84High        Bad        -119Low                                                                 1              WIFI
11         Good          -84High                                    O                              O(WiFi preferred)       1              WIFI
12         Good          -74High                                    O                                                      1              WIFI
13         Bad           -75Low                                     O                                                      1
14         Good          -84High                                                   O               0(WiFi preferred)       1              WIFI
15         Good          -74High                                                   O                                       1              WIFI
16         Bad           -75Low                                                    O                                       1
17          X                            X                          X              X                                       1
=======================================================================================================================================================

2. MMS Apn : hos
   > IWLAN & Cellular
======================================================================================
     WIFI-Available              RSSI        Cellular                RESULT
======================================================================================
1          X                                                         Cellular
2          Bad                  -85Low          X                    WiFi
3          Bad                  -85Low                               Cellular
4          O                                    X                    WiFi
5          Good                 -84High                              WIFI/Cellular
======================================================================================

-->

<ANDSF version="1">
  <Name>IWLAN and Quality(226/03 DTAG RO)</Name>
  <ISRP>
    <Node>
      <ForServiceBased>
<!--  ================IMS Call Idle================ -->
      <MAPCON_WIFI_O_Cellular_X_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
           <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
           </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>1</RulePriority>
        </MAPCON_WIFI_O_Cellular_X_IDLE>

        <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_CELLULAR_PREFERRED_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
                <CallPreference>2</CallPreference>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>2</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_CELLULAR_PREFERRED_IDLE>

        <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_WIFI_PREFERRED_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
                <CallPreference>0</CallPreference>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>3</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_WIFI_PREFERRED_IDLE>

        <MAPCON_WIFI_O_WIFI_ONLY_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
                <CallPreference>1</CallPreference>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>4</RulePriority>
        </MAPCON_WIFI_O_WIFI_ONLY_IDLE>

        <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>5</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_IDLE>

        <MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEGOOD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>6</RulePriority>
        </MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEGOOD_IDLE>

        <MAPCON_WIFI_X_LTE_O_LTEGOOD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-117</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>7</RulePriority>
      </MAPCON_WIFI_X_LTE_O_LTEGOOD_IDLE>

      <MAPCON_WIFI_X_LTE_O_LTEBAD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPLow>-118</LTERSRPLow>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>8</RulePriority>
      </MAPCON_WIFI_X_LTE_O_LTEBAD_IDLE>

      <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPLow>-118</LTERSRPLow>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>9</RulePriority>
      </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_IDLE>

      <MAPCON_WIFI_O_WIFIGOOD_UMTS_O_WIFI_PRFERRED_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>1</UMTSAvailable>
                  </UMTSThreshold>
                </ThresholdConditions>
                <CallPreference>0</CallPreference>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>10</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_UMTS_O_WIFI_PRFERRED_IDLE>

        <MAPCON_WIFI_O_WIFIGOOD_UMTS_O_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>1</UMTSAvailable>
                  </UMTSThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
                 </CallConditions>
           </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>11</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_UMTS_O_IDLE>

        <MAPCON_WIFI_O_WIFIBAD_UMTS_O_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>1</UMTSAvailable>
                  </UMTSThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>12</RulePriority>
        </MAPCON_WIFI_O_WIFIBAD_UMTS_O_IDLE>

        <MAPCON_WIFI_O_WIFIGOOD_GSM_O_WIFI_PREFERRED_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>1</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
                <CallPreference>0</CallPreference>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>13</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_GSM_O_WIFI_PREFERRED_IDLE>

        <MAPCON_WIFI_O_WIFIGOOD_GSM_O_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>1</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>14</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_GSM_O_IDLE>

        <MAPCON_WIFI_O_WIFIBAD_GSM_O_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>1</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>15</RulePriority>
        </MAPCON_WIFI_O_WIFIBAD_GSM_O_IDLE>

        <MAPCON_WIFI_X_CELLULAR_X_IDLE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>0</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>16</RulePriority>
      </MAPCON_WIFI_X_CELLULAR_X_IDLE>

<!--  ================IMS Call Connected================ -->
      <MAPCON_WIFI_O_Cellular_X_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
           <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
           </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>1</RulePriority>
       </MAPCON_WIFI_O_Cellular_X_VOICE>

       <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_CELLULAR_PREFERRED_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-74</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-118</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
                <CallPreference>2</CallPreference>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>2</RulePriority>
       </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_CELLULAR_PREFERRED_VOICE>

       <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_WIFI_PREFERRED_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-116</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
                <CallPreference>0</CallPreference>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>3</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_WIFI_PREFERRED_VOICE>

        <MAPCON_WIFI_O_WIFI_ONLY_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
                <CallPreference>1</CallPreference>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>4</RulePriority>
        </MAPCON_WIFI_O_WIFI_ONLY_VOICE>

        <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-74</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-118</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>5</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEGOOD_VOICE>

        <MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEGOOD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSILow>-75</WiFiRSSILow>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-118</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>6</RulePriority>
       </MAPCON_WIFI_O_WIFIBAD_LTE_O_LTEGOOD_VOICE>

       <MAPCON_WIFI_X_LTE_O_LTEGOOD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPHigh>-118</LTERSRPHigh>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>7</RulePriority>
      </MAPCON_WIFI_X_LTE_O_LTEGOOD_VOICE>

      <MAPCON_WIFI_X_LTE_O_LTEBAD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPLow>-119</LTERSRPLow>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
              <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>8</RulePriority>
      </MAPCON_WIFI_X_LTE_O_LTEBAD_VOICE>

      <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_CELLULAR_PREFERRED_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-74</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPLow>-119</LTERSRPLow>
                  </LTEThreshold>
                </ThresholdConditions>
                <CallPreference>2</CallPreference>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>9</RulePriority>
      </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_CELLULAR_PREFERRED_VOICE>

      <MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                     <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>1</LTEAvailable>
                    <LTERSRPLow>-119</LTERSRPLow>
                  </LTEThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
               </CallConditions>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>10</RulePriority>
      </MAPCON_WIFI_O_WIFIGOOD_LTE_O_LTEBAD_VOICE>

      <MAPCON_WIFI_O_WIFIGOOD_UMTS_O_WIFI_PRFERRED_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>1</UMTSAvailable>
                  </UMTSThreshold>
                </ThresholdConditions>
                <CallPreference>0</CallPreference>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>11</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_UMTS_O_WIFI_PRFERRED_VOICE>

        <MAPCON_WIFI_O_WIFIGOOD_UMTS_O_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-74</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>1</UMTSAvailable>
                  </UMTSThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>12</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_UMTS_O_VOICE>

        <MAPCON_WIFI_O_WIFIBAD_UMTS_O_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-75</WiFiRSSILow>
                  </WiFiThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>1</UMTSAvailable>
                  </UMTSThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>13</RulePriority>
        </MAPCON_WIFI_O_WIFIBAD_UMTS_O_VOICE>

        <MAPCON_WIFI_O_WIFIGOOD_GSM_O_WIFI_PREFERRED_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>1</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
                <CallPreference>0</CallPreference>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>14</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_GSM_O_WIFI_PREFERRED_VOICE>

        <MAPCON_WIFI_O_WIFIGOOD_GSM_O_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-74</WiFiRSSIHigh>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>1</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>15</RulePriority>
        </MAPCON_WIFI_O_WIFIGOOD_GSM_O_VOICE>

        <MAPCON_WIFI_O_WIFIBAD_GSM_O_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-75</WiFiRSSILow>
                  </WiFiThreshold>
                  <GSMThreshold>
                    <GSMAvailable>1</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
                 <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>16</RulePriority>
        </MAPCON_WIFI_O_WIFIBAD_GSM_O_VOICE>

        <MAPCON_WIFI_X_CELLULAR_X_VOICE>
          <APN>IMS</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
               <CallConditions>
                  <Node>
                      <CallType>1</CallType>
                  </Node>
              </CallConditions>
           </Node>
          </RoutingCriteria>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>17</RulePriority>
      </MAPCON_WIFI_X_CELLULAR_X_VOICE>

<!--  ================hos================ -->
      <MAPCON_WIFI_X>
        <APN>hos</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>0</WiFiAvailable>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>1</RulePriority>
      </MAPCON_WIFI_X>

      <MAPCON_WIFI_O_WIFIBAD_CELLULAR_X>
        <APN>hos</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>2</RulePriority>
      </MAPCON_WIFI_O_WIFIBAD_CELLULAR_X>

      <MAPCON_WIFI_O_WIFIBAD>
        <APN>hos</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSILow>-85</WiFiRSSILow>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>3</RulePriority>
      </MAPCON_WIFI_O_WIFIBAD>

      <MAPCON_WIFI_O_CELLULAR_X>
        <APN>hos</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                  </WiFiThreshold>
                  <LTEThreshold>
                    <LTEAvailable>0</LTEAvailable>
                  </LTEThreshold>
                  <UMTSThreshold>
                    <UMTSAvailable>0</UMTSAvailable>
                  </UMTSThreshold>
                  <GSMThreshold>
                    <GSMAvailable>0</GSMAvailable>
                  </GSMThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>4</RulePriority>
      </MAPCON_WIFI_O_CELLULAR_X>

      <MAPCON_WIFI_O_WIFIGOOD>
        <APN>hos</APN>
          <RoutingCriteria>
            <Node>
              <OPSpecificRANValidityCondition>
                <ThresholdConditions>
                  <WiFiThreshold>
                    <WiFiAvailable>1</WiFiAvailable>
                    <WiFiRSSIHigh>-84</WiFiRSSIHigh>
                  </WiFiThreshold>
                </ThresholdConditions>
              </OPSpecificRANValidityCondition>
            </Node>
          </RoutingCriteria>
          <RoutingRule>
            <Node>
              <AccessTechnology>1</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
            <Node>
              <AccessTechnology>3</AccessTechnology>
              <AccessNetworkPriority>1</AccessNetworkPriority>
            </Node>
          </RoutingRule>
          <IsAPIOverride>1</IsAPIOverride>
          <RulePriority>5</RulePriority>
      </MAPCON_WIFI_O_WIFIGOOD>
      </ForServiceBased>
    </Node>
  </ISRP>
</ANDSF>